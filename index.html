<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carta Animada</title>

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#ff7b9c,#ff5f8a);
  font-family:'Segoe UI', cursive;
  overflow:hidden;
}

/* SOBRE */
.envelope{
  position:relative;
  width:360px;
  height:250px;
  background:#ff8fab;
  border-radius:20px;
  box-shadow:0 20px 40px rgba(0,0,0,0.2);
  overflow:hidden; /* CLAVE para que no atraviese */
}

/* SOLAPA */
.flap{
  position:absolute;
  top:0;
  width:100%;
  height:50%;
  background:#ff6f91;
  clip-path:polygon(0 0,100% 0,50% 100%);
  transform-origin:top;
  transition:transform 0.7s ease;
  z-index:3;
}

/* ESQUINA DOBLADA */
.corner{
  position:absolute;
  top:0;
  right:0;
  width:60px;
  height:60px;
  background:linear-gradient(135deg,#ffc1d3 50%,#ff8fab 50%);
  clip-path:polygon(100% 0,0 0,100% 100%);
  cursor:pointer;
  z-index:5;
  transition:transform 0.3s;
}

.corner:hover{
  transform:scale(1.1);
}

/* HOJA */
.letter{
  position:absolute;
  bottom:0;
  left:50%;
  transform:translate(-50%, 100%);
  width:320px;
  height:400px;
  background:#fff0f5;
  border-radius:20px;
  padding:25px;
  box-shadow:0 15px 30px rgba(0,0,0,0.25);
  overflow-y:auto;
  transition:transform 0.9s ease, opacity 0.6s ease;
  opacity:0;
  z-index:2;
}

/* SCROLL BONITO */
.letter::-webkit-scrollbar{
  width:6px;
}
.letter::-webkit-scrollbar-thumb{
  background:#ff8fab;
  border-radius:10px;
}

/* ESTADO ABIERTO */
.envelope.open .flap{
  transform:rotateX(180deg);
}

.envelope.open .letter{
  transform:translate(-50%, -40%);
  opacity:1;
}

/* ESTADO CERRADO */
.envelope.closed .letter{
  transform:translate(-50%, 100%);
  opacity:0;
}

/* TEXTO */
h1{
  text-align:center;
  color:#d6336c;
  font-size:26px;
}

h2{
  text-align:center;
  color:#ff4d88;
  font-size:34px;
}

p{
  text-align:center;
  color:#d6336c;
  font-size:18px;
  margin:25px 0;
}

/* CORAZONES */
.heart{
  position:absolute;
  color:rgba(255,255,255,0.3);
  animation:float 6s linear infinite;
}

@keyframes float{
  0%{transform:translateY(100vh) scale(0.5);opacity:0;}
  50%{opacity:1;}
  100%{transform:translateY(-10vh) scale(1);opacity:0;}
}
</style>
</head>

<body>

<div class="envelope" id="envelope">
  <div class="flap"></div>
  <div class="corner" id="corner"></div>

  <div class="letter">
    <h1>Feliz cumplea√±os üéÇ</h1>
    <h2>Tarrio üíñ</h2>
    <p>Que cada a√±o que pase brille m√°s que el anterior ‚ú®</p>
    <p>Nunca olvides lo incre√≠ble que eres üå∏</p>
    <p>Que la vida te regale momentos m√°gicos üí´</p>
    <p>Y que tus sue√±os se cumplan uno por uno üéÅ</p>
    <p>Siempre habr√° alguien que crea en ti üíï</p>
  </div>
</div>

<script>
const envelope = document.getElementById("envelope");
const corner = document.getElementById("corner");

let abierto = false;

/* Se abre autom√°ticamente */
setTimeout(()=>{
  envelope.classList.add("open");
  abierto = true;
},800);

/* Solo cerrar tocando esquina */
corner.addEventListener("click", ()=>{
  if(abierto){
    envelope.classList.remove("open");
    envelope.classList.add("closed");
    abierto = false;
  }
});

/* Corazones */
for(let i=0;i<15;i++){
  let heart = document.createElement("div");
  heart.classList.add("heart");
  heart.innerHTML="‚ù§";
  heart.style.left=Math.random()*100+"vw";
  heart.style.fontSize=15+Math.random()*25+"px";
  heart.style.animationDuration=4+Math.random()*4+"s";
  document.body.appendChild(heart);
}
</script>

</body>
</html>
